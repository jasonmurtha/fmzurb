(function(t){t.fn.filterAccContent=function(e){var i={dataF:".filterform",dataGP:".accordion-pointer",dataE:".accordion-item",dataL:".accordion-title",dataP:".accordion-content",dataC:"li"},n=t.extend({},i,e);n=t.metadata?t.extend({},n,this.metadata()):n;var a=t(this).find(n.dataF),o=t(this).find(n.dataGP);return postFilter=function(){o.find(n.dataE).each(function(){var e=t(this).find(n.dataP),i=t(this).find(n.dataP).find(n.dataC).not(".hide").length;i>0?o.foundation("down",e,!0):o.foundation("up",e,!0)})},applyFilter=function(e){e=t.trim(e),e=e.replace(/\s+/g,"|"),o.find(n.dataP).find(n.dataC).each(function(){t(this).text().search(new RegExp(e,"i"))<0?t(this).addClass("hide"):t(this).removeClass("hide")}),postFilter()},removeFilter=function(){var t=o.find(n.dataP);o.find(".hide").removeClass("hide"),o.foundation("up",t,!0)},exA=t("<a>",{"class":"expAll",id:"expAll",href:"javascript:void(0);",html:"Expand All Categories"}),exP=t("<p>",{"class":"text-right",html:exA}),o.find(n.dataP).find(n.dataC).length&&o.before(exP),a.find(".filterReset").on("click",function(){removeFilter()}),t("#filterField").on("keyup change",function(e){27==e.keyCode&&t(this).val(""),""==t(this).val()?removeFilter():applyFilter(t(this).val()),27==e.keyCode&&t(this).blur()}),t(".expAll").on("click",function(){if(a.find(".filterReset").click(),o.find(n.dataP).not(".is-active").length){var t=o.find(n.dataP);o.foundation("down",t,!0)}}),o.find(n.dataE).each(function(){var e=t(this);e.find(".accordion-title").on("click",function(){e.find(".hide").removeClass("hide")})}),this}})(jQuery);
